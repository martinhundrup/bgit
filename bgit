#!/usr/bin/env bash

set -euo pipefail

SOURCE="${BASH_SOURCE[0]}"
while [[ -h "$SOURCE" ]]; do
	DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"
	TARGET="$(readlink "$SOURCE")"
	if [[ "$TARGET" = /* ]]; then
		SOURCE="$TARGET"
	else
		SOURCE="$DIR/$TARGET"
	fi
done

SCRIPT_DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"
exec "${SCRIPT_DIR}/bin/bgit" "$@"
